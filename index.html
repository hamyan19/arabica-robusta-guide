<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ANARO Coffee Collection — Danh mục & Bảng giá</title>
  <style>
    :root{
      --bg:#f6efe9; --text:#2a221d; --panel:#a47148; --ink:#F8EBDD;
      --dot:#6b3f25; --card-border:#e9d7c5; --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:linear-gradient(180deg,#fff,var(--bg) 50%,#f0e2d6);
      color:var(--text);
    }
    .container{max-width:1200px;margin:0 auto;padding:0 16px}
    header.page{ position:sticky; top:0; z-index:10;
      background:#ffffffcc; backdrop-filter:saturate(180%) blur(8px);
      border-bottom:1px solid var(--card-border); padding:10px 0 12px; margin-bottom:10px }
    header .toprow{display:flex;gap:12px;align-items:center;justify-content:space-between}
    header h1{margin:0;font-size:22px}
    .nav{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .nav a.btn{padding:8px 12px;border-radius:999px;border:1px solid #0001;background:#0001;text-decoration:none;color:#6b3f25;font-weight:700}

    /* Social icons */
    .social{display:flex;gap:8px}
    .ic{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:999px;color:#fff;text-decoration:none;font-weight:900;letter-spacing:.2px}
    .ic span{font-size:16px;line-height:1}
    .ic.fb{background:#1877F2}      /* Facebook */
    .ic.ms{background:#00B2FF}      /* Messenger */
    .ic.zl{background:#0068FF}      /* Zalo */
    .ic.call{background:#25D366}    /* Call */
    .ic:hover{filter:brightness(.95)}

    .filters{ display:flex; flex-wrap:wrap; gap:8px; justify-content:center; margin: 10px 0 0 }
    .fbtn{ border:1px solid #0000001a; background:#0000000e; color:#6b3f25; padding:8px 12px; border-radius:999px; font-weight:700; cursor:pointer }
    .fbtn[aria-pressed="true"]{ background:#a47148; color:var(--ink); border-color:transparent }

    .category{ margin: 20px 0 30px }
    .category-title{
      color: var(--ink);
      background: #a47148cc;
      font-size: 18px; font-weight: 800; letter-spacing:.3px; text-align:center;
      padding: 12px 18px; border-radius: 14px; text-shadow: 0 1px 1px #00000040;
    }
    .grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap:16px; align-items: start }

    .card{ background: radial-gradient(120% 140% at 10% 0%, #fff 0 40%, #fff6ee 60%, #ffeede 100%);
           border: 1px solid var(--card-border); border-radius: var(--radius);
           display:flex; flex-direction:column; overflow:hidden; }
    .card-header{ padding:16px 16px 8px 16px }
    .card-title{ margin:0; font-size:20px }
    .best-for{ margin:8px 16px; background:var(--panel); color:var(--ink);
               padding:8px 12px; border-radius:12px; font-size:14px }

    .stats{ display:grid; grid-template-columns:1fr; gap:8px; padding:0 16px 8px 16px; font-size:14px }
    .rating{ display:inline-grid; grid-auto-flow:column; gap:4px; color: var(--dot) }
    .dot{ width:10px; height:10px; border-radius:50%; border:1px solid currentColor }
    .dot.f{ background: currentColor }

    .methods{ padding:8px 16px; display:grid; grid-template-columns:1fr 1fr; gap:8px }
    .method{ padding:8px 10px; border:1px solid #0000001a; border-radius:8px; background:#0000000e;
             text-align:center; font-weight:600; font-size:14px; display:flex; flex-direction:column; align-items:center; gap:4px }

    .pack{ padding:0 16px 12px 16px; font-size:14px }
    .chips{ display:flex; flex-wrap: wrap; gap:8px; margin-top:6px }
    .chip{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:8px; background:#0000000e; border:1px solid #0000001a; font-weight:600 }
    .chip small{ opacity:.7; font-weight:700 }

    .actions{ display:grid; grid-template-columns:1fr 1fr; gap:8px; padding:12px 16px }
    .btn{ display:inline-flex; justify-content:center; align-items:center; padding:8px 10px; border-radius:10px; font-weight:700; text-decoration:none; cursor:pointer; border:1px solid #0000001a; color:#6b3f25; background:#0000000e }
    .btn-primary{ background:#F8EBDD; color:#6b3f25; border-color:transparent }
    .footer{ margin-top:auto; padding:10px 12px; border-top:1px solid var(--card-border); text-align:center; color:#806a5b; font-size:12px; background:#ffffffaa }

    .prices{ margin: 26px 0 }
    table{ width:100%; border-collapse: collapse; font-size:14px; background:#fff; border:1px solid #00000014 }
    th, td{ padding:10px 12px; border:1px solid #00000014; text-align:left }
    thead th{ background:#f2e6db }
    .section-hd{ background:#ead4c5; font-weight:800 }
  </style>
</head>
<body>
  <div class="container">
    <header class="page">
      <div class="toprow">
        <h1>☕ ANARO COFFEE COLLECTION</h1>
        <nav class="nav" aria-label="Menu">
          <a class="btn" href="faq.html">❓ Câu hỏi thường gặp</a>
          <div class="social" aria-label="Kết nối">
            <!-- ICON THẬT: Fanpage / Messenger / Zalo / Gọi nhanh -->
            <a class="ic fb" href="https://www.facebook.com/anarocoffee/" target="_blank" rel="noopener" title="Facebook Fanpage"><span>f</span></a>
            <a class="ic ms" href="https://m.me/anarocoffee" target="_blank" rel="noopener" title="Messenger"><span>m</span></a>
            <a class="ic zl" href="https://zalo.me/0918337071" target="_blank" rel="noopener" title="Zalo"><span>Z</span></a>
            <a class="ic call" href="tel:+84918337071" title="Gọi nhanh"><span>☎</span></a>
          </div>
        </nav>
      </div>
      <nav id="filters" class="filters" aria-label="Lọc danh mục"></nav>
    </header>

    <!-- Catalog sẽ render ở đây -->
    <div id="catalog"></div>

    <!-- BẢNG GIÁ & COMBO -->
    <section class="prices" id="priceSection">
      <h2>Bảng giá</h2>
      <div id="priceTables"></div>
      <h3 style="margin-top:18px">Combo dùng thử — 3 x 250g</h3>
      <div id="combos"></div>
    </section>
  </div>

  <script>
    // =========================
    // DỮ LIỆU SẢN PHẨM
    // =========================
    const products = [
      // ===== ÊM NHẸ – THANH =====
      {
        id:"arabica-cau-dat", category:"ÊM NHẸ – THANH",
        name:"Arabica Cầu Đất", bestFor:"Người yêu hương vị trái cây, uống nhẹ nhàng",
        stats:{ strength:2, caffeine:2, roast:2 },
        methods:{ phin:2, espresso:2, pour:2 },
        price:{ "250g":"100.000đ", "500g":"210.000đ", "1kg":"360.000đ" }
      },
      {
        id:"arabica-da-lat", category:"ÊM NHẸ – THANH",
        name:"Arabica Đà Lạt", bestFor:"Hương vị cân bằng, classic và thanh thoát",
        stats:{ strength:2, caffeine:2, roast:2 },
        methods:{ phin:3, espresso:2, pour:3 },
        price:{ "250g":"90.000đ", "500g":"195.000đ", "1kg":"330.000đ" }
      },
      {
        id:"blend-3", category:"ÊM NHẸ – THANH",
        name:"Blend Số 3 (A Đà Lạt 50% · R 50%)", bestFor:"Cầu nối giữa nhẹ và đậm; cà phê sữa đá hàng ngày",
        stats:{ strength:3, caffeine:3, roast:3 },
        methods:{ phin:3, espresso:2, pour:2 },
        price:{ "250g":"85.000đ", "500g":"181.250đ", "1kg":"302.500đ" }
      },
      {
        id:"blend-9", category:"ÊM NHẸ – THANH",
        name:"Blend Số 9 (A Cầu Đất 50% · R Honey 50%)", bestFor:"Đậm nhưng hậu ngọt; hợp sữa đá/bạc xỉu",
        stats:{ strength:3, caffeine:3, roast:2 },
        methods:{ phin:3, espresso:3, pour:1 },
        price:{ "250g":"95.000đ", "500g":"201.250đ", "1kg":"342.500đ" }
      },

      // ===== CÂN BẰNG – TRÒN VỊ =====
      {
        id:"blend-2", category:"CÂN BẰNG – TRÒN VỊ",
        name:"Blend Số 2 (A Đà Lạt 30% · R 70%)", bestFor:"Ly sữa có mùi Arabica rõ, body & caffeine tốt",
        stats:{ strength:4, caffeine:4, roast:4 },
        methods:{ phin:3, espresso:3, pour:2, milk:3 },
        price:{ "250g":"80.000đ", "500g":"173.750đ", "1kg":"287.500đ" }
      },
      {
        id:"blend-10", category:"CÂN BẰNG – TRÒN VỊ",
        name:"Blend Số 10 (A Cầu Đất 30% · R Honey 70%)", bestFor:"Đậm – tròn, hậu ngọt hơn nhờ Robusta Honey",
        stats:{ strength:4, caffeine:4, roast:4 },
        methods:{ phin:3, espresso:3, pour:2, milk:3 },
        price:{ "250g":"93.000đ", "500g":"197.750đ", "1kg":"335.500đ" }
      },
      // TẨM BƠ SỐ 6 & SỐ 7 — chỉ pha phin
      {
        id:"tam-bo-6", category:"CÂN BẰNG – TRÒN VỊ",
        name:"Tẩm bơ Số 6 (A Đà Lạt 30% · R 70%)", bestFor:"Chỉ dành cho pha phin",
        stats:{ strength:4, caffeine:4, roast:3 },
        methods:{ phin:3 },
        price:{ "250g":"85.000đ", "500g":"178.750đ", "1kg":"297.500đ" }
      },
      {
        id:"tam-bo-7", category:"CÂN BẰNG – TRÒN VỊ",
        name:"Tẩm bơ Số 7 (A Đà Lạt 50% · R 50%)", bestFor:"Chỉ dành cho pha phin",
        stats:{ strength:3, caffeine:3, roast:3 },
        methods:{ phin:3 },
        price:{ "250g":"90.000đ", "500g":"186.250đ", "1kg":"312.500đ" }
      },

      // ===== ĐẬM MẠNH – HẬU DÀI =====
      {
        id:"robusta-honey", category:"ĐẬM MẠNH – HẬU DÀI",
        name:"Robusta Honey", bestFor:"Đậm nhưng ngọt hậu; hợp sữa",
        stats:{ strength:4, caffeine:4, roast:4 },
        methods:{ phin:3, espresso:2 },
        price:{ "250g":"89.000đ", "500g":"192.500đ", "1kg":"325.000đ" }
      },
      {
        id:"robusta-moc", category:"ĐẬM MẠNH – HẬU DÀI",
        name:"Robusta Mộc", bestFor:"Đen nóng/đen đá rất đậm, mộc, hậu dài",
        stats:{ strength:5, caffeine:5, roast:4 },
        methods:{ phin:3, espresso:3 },
        price:{ "250g":"75.000đ", "500g":"167.500đ", "1kg":"275.000đ" }
      },
      {
        id:"culi-moc", category:"ĐẬM MẠNH – HẬU DÀI",
        name:"Culi Mộc", bestFor:"Đậm mượt, hậu dài",
        stats:{ strength:5, caffeine:5, roast:4 },
        methods:{ phin:3, espresso:3 },
        price:{ "250g":"75.000đ", "500g":"167.500đ", "1kg":"275.000đ" }
      },
    ];

    const combos = [
      { name:"Combo Êm Nhẹ", items:["Arabica Cầu Đất","Blend Số 3","Blend Số 9"], price:"~261.000đ" },
      { name:"Combo Cân Bằng", items:["Blend Số 2","Robusta Honey","Arabica Đà Lạt"], price:"~242.000đ" },
      { name:"Combo Đậm Mạnh", items:["Robusta Mộc","Culi Mộc","Robusta Honey"], price:"~228.000đ" },
      { name:"Combo Tẩm Bơ", items:["Tẩm bơ Số 6","Tẩm bơ Số 7","Số 9"], price:"~252.000đ" },
      { name:"Combo Tổng hợp", items:["Arabica Cầu Đất","Số 3","Số 9"], price:"~275.500đ" },
    ];

    // =========================
    // HÀM RENDER + BỘ LỌC
    // =========================
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

    function dotRow(v, max=5){
      return `<span class="rating">${Array.from({length:max}).map((_,i)=>`<span class="dot ${i<v? 'f':''}"></span>`).join('')}</span>`;
    }

    function methodBlock(methods){
      const map = [
        methods.phin ? `<div class="method">🫖<span>Phin</span><span>${'★'.repeat(methods.phin)}${'☆'.repeat(3 - (methods.phin||0))}</span></div>`: '' ,
        methods.espresso ? `<div class="method">☕<span>Espresso</span><span>${'★'.repeat(methods.espresso)}${'☆'.repeat(3 - (methods.espresso||0))}</span></div>`: '' ,
        methods.pour ? `<div class="method">🌊<span>Pour Over</span><span>${'★'.repeat(methods.pour)}${'☆'.repeat(3 - (methods.pour||0))}</span></div>`: '' ,
      ].filter(Boolean).join('');
      return `<div class="methods">${map}</div>`;
    }

    function productCard(p){
      return `<article class="card" id="${p.id}" aria-labelledby="${p.id}-t">
        <header class="card-header"><h3 id="${p.id}-t" class="card-title">${p.name}</h3></header>
        <p class="best-for">🎯 Thích hợp nhất cho: ${p.bestFor}</p>
        <div class="stats">
          <div>☕ Độ đậm: ${dotRow(p.stats.strength)}</div>
          <div>⏰ Caffeine: ${dotRow(p.stats.caffeine)}</div>
          <div>🔥 Mức rang: ${dotRow(p.stats.roast)}</div>
        </div>
        ${methodBlock(p.methods)}
        <div class="pack"><strong>📦 Đóng gói & giá:</strong>
          <div class="chips">
            ${Object.entries(p.price).map(([size,price])=>`<span class="chip"><span>${size}</span><small>${price}</small></span>`).join('')}
          </div>
        </div>
        <div class="actions">
          <a class="btn btn-primary" href="#buy-${p.id}">Mua ngay</a>
          <a class="btn" href="faq.html">Câu hỏi thường gặp</a>
        </div>
        <div class="footer">ANARO Coffee Guide · © 2025</div>
      </article>`;
    }

    function renderFilters(categories){
      const root = document.getElementById('filters');
      const allBtn = `<button class="fbtn" data-cat="__all" aria-pressed="true">Tất cả</button>`;
      const catBtns = categories.map(c=>`<button class="fbtn" data-cat="${c}" aria-pressed="false">${c}</button>`).join('');
      root.innerHTML = allBtn + catBtns;
      root.addEventListener('click', (e)=>{
        const btn = e.target.closest('button.fbtn');
        if(!btn) return;
        $$('#filters .fbtn').forEach(b=>b.setAttribute('aria-pressed','false'));
        btn.setAttribute('aria-pressed','true');
        const cat = btn.dataset.cat;
        renderCatalog(cat === '__all' ? null : cat);
      });
    }

    function renderCatalog(filterCat=null){
      const byCat = products.reduce((acc,p)=>{ (acc[p.category] ||= []).push(p); return acc; },{});
      const root = document.getElementById('catalog');
      const cats = Object.keys(byCat);
      const html = cats.map(cat=>{
        if(filterCat && cat !== filterCat) return '';
        const cards = byCat[cat].map(productCard).join('');
        return `<section class="category"><h2 class="category-title">${cat}</h2><div class="grid">${cards}</div></section>`;
      }).join('');
      root.innerHTML = html || '<p>Không có sản phẩm trong danh mục này.</p>';
    }

    function renderPrices(){
      const byCat = products.reduce((acc,p)=>{ (acc[p.category] ||= []).push(p); return acc; },{});
      const priceRoot = document.getElementById('priceTables');
      priceRoot.innerHTML = Object.entries(byCat).map(([cat,items])=>{
        const rows = items.map(p=>`<tr><td>${p.name}</td><td>${p.price['250g']||''}</td><td>${p.price['500g']||''}</td><td>${p.price['1kg']||''}</td></tr>`).join('');
        return `<h4 style="margin:12px 0 6px" class="section-hd">${cat}</h4>
          <table aria-label="${cat}">
            <thead><tr><th>Sản phẩm</th><th>250g</th><th>500g</th><th>1kg</th></tr></thead>
            <tbody>${rows}</tbody>
          </table>`;
      }).join('');

      const comboRoot = document.getElementById('combos');
      comboRoot.innerHTML = `<table><thead><tr><th>Combo</th><th>Thành phần</th><th>Giá</th></tr></thead>
        <tbody>
          ${combos.map(c=>`<tr><td>${c.name}</td><td>${c.items.join(' + ')}</td><td>${c.price}</td></tr>`).join('')}
        </tbody></table>`;
    }

    // Khởi tạo
    const categories = [...new Set(products.map(p=>p.category))];
    renderFilters(categories);
    renderCatalog();
    renderPrices();
  </script>
</body>
</html>